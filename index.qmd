---
title: "Truncated SVD Lecture Notes"
subtitle: "CEVE 543 Final Presentation"
author: Jonah Schaechter # edit this line only
date: 2025-11-14

engine: julia
julia:
  exeflags: ["+1.11"] # ensures version 1.11

format:
  html:
    toc: true
    toc-depth: 2
    code-block-bg: "#f8f8f8"
    code-block-border-left: "#e1e4e5"
    theme: simplex
    number-sections: true
    fig-format: svg
    code-annotations: hover
    code-line-numbers: true
    date-format: "ddd., MMM. D"
  typst:
    fontsize: 11pt
    margin: 
      x: 1in
      y: 1in
    number-sections: true
    fig-format: svg
    code-line-numbers: true
    footer: "{{< meta author >}}"
    date-format: "ddd., MMM. D"

execute: 
  cache: true

# Code formatting options
code-overflow: wrap
code-line-numbers: false
code-block-font-size: "0.85em"
---

## Mathematical Framework

- **Start from the full SVD**
  - Any real matrix $A \in \mathbb{R}^{m \times n}$ can be decomposed into

    $$
    A = U \Sigma V^\top
    $$

  - $U$: left singular vectors, $m \times m$ (orthonormal)  
    $V$: right singular vectors, $n \times n$ (orthonormal)
  - $\Sigma$: diagonal with singular values $\Sigma_{1} \ge \cdots \ge \Sigma_r > 0$

- **Idea behind truncation**
  - Singular values often decay rapidly in real data.
  - Only the leading components are needed.

- **Definition of TSVD**
  - Partition:

    $$
    A = U_k \Sigma_k V_k^\top + U_{>k} \Sigma_{>k} V_{>k}^\top
    $$

  - The truncated rank-$k$ approximation:

    $$
    A_k = U_k \Sigma_k V_k^\top
    $$

  - In other words: we keep the first $k$ diagonal entries of $\Sigma$ and discard the rest.
  - We then plug this $\Sigma_k$ back into $U \Sigma_k V^\top = A$ in order to obtain $A_k$, the dimensionally reduced version of $A$ with $k$ dimensions. 

Note: expand more on the math behind this decomposition. 

## Worked Example

## Strengths, Limitations, and Appropriate Use cases 

## Connections to Course Themes 

## Citations and Bibliography 

### Code

```{julia}
#| eval: false
from sklearn.decomposition import TruncatedSVD
from scipy.sparse import csr_matrix
import numpy as np
np.random.seed(0)
X_dense = np.random.rand(100, 100)
X_dense[:, 2 * np.arange(50)] = 0
X = csr_matrix(X_dense)
svd = TruncatedSVD(n_components=5, n_iter=7, random_state=42)
svd.fit(X)
print(svd.explained_variance_ratio_)
print(svd.explained_variance_ratio_.sum())
print(svd.singular_values_)
```